webpackJsonp(["catalog"],{"+qWx":function(e,t){e.exports=vendor},"7GHf":function(e,t,n){"use strict";var r=n("+6Bu"),a=n.n(r),o=n("U7vG"),i=n.n(o),c=n("XagN"),s=(n.n(c),function(e){var t=e.title,n=e.children,r=a()(e,["title","children"]);return i.a.createElement("div",{className:"m-head f-cb"},i.a.createElement("h2",null,t||""),i.a.createElement("a",{className:"f-fr",href:"/","data-log":r["data-log"]},"首页"),n||"")});t.a=s},"8nng":function(e,t,n){"use strict";var r=n("+6Bu"),a=n.n(r),o=n("Zrlr"),i=n.n(o),c=n("wxAW"),s=n.n(c),u=n("tBL+"),l=n("vPHJ"),d=function(){function e(t){var n=this;i()(this,e),this._handleDocClick=function(e){var t=n._getTargetElement(e);if(t){var r=t.dataset.log;if(r&&(n.capture(r),"A"===t.tagName.toUpperCase())){var a=t.href;if(!a||0===a.indexOf("javascript")||"_blank"===t.getAttribute("target"))return;e.preventDefault(),setTimeout(function(){window.location.href=t.href},200)}}},this._logToBackend=function(e){if(location.href.indexOf("pay.kuxuanbook")>-1){var t=Object(l.h)(),n=(t.targetUrl,t.shareUrl,a()(t,["targetUrl","shareUrl"]));Object(u.b)(JSON.parse(e),n)}else Object(u.a)(JSON.parse(e))},this.capture=function(e){n._logToBackend(e)},this._handleDocClick=this._handleDocClick.bind(this),this._addEventListeners()}return s()(e,[{key:"_addEventListeners",value:function(){document.addEventListener("click",this._handleDocClick,!0)}},{key:"_getTargetElement",value:function(e){for(var t=e.target;t;){if(t.dataset&&t.dataset.log)return t;t=t.parentNode}return null}}]),e}();new d},BEQ0:function(e,t,n){e.exports=n("+qWx")(3)},"BK/k":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});var r=n("VkW9"),a=n.n(r),o=new a.a,i=o.get("XSRF-TOKEN")},"D/cR":function(e,t,n){"use strict";function r(e){var t=[];for(var n in e)!function(n){Array.isArray(e[n])?e[n].forEach(function(e){t.push(n+"[]="+e)}):t.push(n+"="+e[n])}(n);return t.join("&")}t.c=r,n.d(t,"a",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"b",function(){return f});var a=n("Xxa5"),o=n.n(a),i=n("exGp"),c=n.n(i),s=n("rplX"),u=(n.n(s),n("BK/k")),l=function(){var e=c()(o.a.mark(function e(t){var n,a,i,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r(c),n.length>0&&(t+="?"+n),e.next=4,fetch(t,{method:"GET",credentials:"same-origin"});case 4:if(a=e.sent,a.ok){e.next=7;break}throw new Error("网络错误:"+a.status);case 7:return i=void 0,e.prev=8,e.next=11,a.json();case 11:i=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(8),new Error("服务器错误");case 17:if(!1!==i.success){e.next=21;break}throw new Error(i.msg||"请求失败");case 21:return-401===i.code&&location.reload(),e.abrupt("return",i);case 23:case"end":return e.stop()}},e,this,[[8,14]])}));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=c()(o.a.mark(function e(t){var n,a,i,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r(s),n.length>0&&(t+="?"+n),e.next=4,fetch(t,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/x-www-form-urlencoded","X-XSRF-TOKEN":u.b},body:r(c)});case 4:if(a=e.sent,a.ok){e.next=7;break}throw new Error("网络错误:"+a.status);case 7:return i=void 0,e.prev=8,e.next=11,a.json();case 11:i=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(8),new Error("服务器错误");case 17:if(!1!==i.success){e.next=21;break}throw new Error(i.msg||"请求失败");case 21:return-401===i.code&&location.reload(),e.abrupt("return",i);case 23:case"end":return e.stop()}},e,this,[[8,14]])}));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=c()(o.a.mark(function e(t){var n,a,i,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r(c),n.length>0&&(t+="?"+n),e.next=4,fetch(t,{method:"GET",credentials:"same-origin",mode:"cors"});case 4:if(a=e.sent,a.ok){e.next=7;break}throw new Error("网络错误:"+a.status);case 7:return i=void 0,e.prev=8,e.next=11,a.json();case 11:i=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(8),new Error("服务器错误");case 17:if(!1!==i.success){e.next=21;break}throw new Error(i.msg||"请求失败");case 21:return-401===i.code&&location.reload(),e.abrupt("return",i);case 23:case"end":return e.stop()}},e,this,[[8,14]])}));return function(t){return e.apply(this,arguments)}}()},HJfm:function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"f",function(){return o}),n.d(t,"d",function(){return i}),n.d(t,"c",function(){return c}),n.d(t,"a",function(){return s});var r={FIRST_ENTER:"firstEnter",ACTIVITY:"activity",SIGN:"sign",GUIDE:"guide"},a={BOOK_NOT_FOUND:"bookNotFound",REQUEST_ERROR:"requestError",CUSTOM_ERROR:"customError"},o={WX_JSAPI:"WX_JSAPI",WX_NATIVE:"WX_NATIVE",ALIPAY:"ALIPAY"},i={TEST:"test",PRE:"pre",ONLINE:"online"},c={FEEDBACK:0,COMPLAINT:1},s={SIGN_MODAL:"1",SIGN_BOTTOM:"2",READER_RMD:"3",READER_BANNER:"4"}},NHKQ:function(e,t,n){n.p=window.cdn||"/dist/"},O27J:function(e,t,n){e.exports=n("+qWx")(76)},U7vG:function(e,t,n){e.exports=n("+qWx")(77)},XSqi:function(e,t){},XmxB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("U7vG"),o=n.n(a),i=n("O27J"),c=n("Dd8w"),s=n.n(c),u=n("Zx67"),l=n.n(u),d=n("Zrlr"),f=n.n(d),h=n("wxAW"),p=n.n(h),v=n("zwoO"),g=n.n(v),m=n("Pf15"),w=n.n(m),E=n("D/cR"),k=n("YCIw"),x=n("7GHf"),b=Object(k.a)(r=function(e){function t(){f()(this,t);var e=g()(this,(t.__proto__||l()(t)).call(this)),n=window.location.search.split("=")[1].split("&")[0],r=window.location.search.split("=")[2];return e.state={sourceUuid:n,articleUuid:r,pageNow:1,pageSize:100,pageCount:0,reverse:!1,catalog:[],defaultHeight:83/75*lib.flexible.rem},e.curArticleUuid=r,e.pageSize=100,e.goPrevPage=e.goPrevPage.bind(e),e.goNextPage=e.goNextPage.bind(e),e}return w()(t,e),p()(t,[{key:"componentDidMount",value:function(){this.fetchCata()}},{key:"fetchCata",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.pageSize,r=this.state,a=r.sourceUuid,o=r.articleUuid,i=r.pageNow,c=r.reverse,u=s()({sourceUuid:a,articleUuid:o,pageNow:i,reverse:c,pageSize:n},t);Object(E.a)("/book/catalog.json",u).then(function(t){if(t.categorys){var n=t.categorys,r=n.pageCount,a=n.pageNow,o=n.totalRecord,i=n.data;e.setState({articleUuid:"",catalog:u.reverse?i.reverse():i,pageCount:1*r,pageNow:a,totalRecord:o,reverse:u.reverse},function(){u.articleUuid&&e.locateArticle()})}})}},{key:"goPrevPage",value:function(){this.state.pageNow<=1||this.fetchCata({pageNow:this.state.pageNow-1})}},{key:"goNextPage",value:function(){this.state.pageNow>=this.state.pageCount||this.fetchCata({pageNow:this.state.pageNow+1})}},{key:"reverseCatalog",value:function(){this.state.reverse?this.fetchCata({reverse:!1,articleUuid:this.curArticleUuid}):this.fetchCata({reverse:!0,pageNow:1})}},{key:"renderCatalog",value:function(e){var t=this;if(e.length){var n=[];return e.forEach(function(e,r){e.needPay&&!e.paid?n.push(o.a.createElement("li",{key:r,className:"no-read"},o.a.createElement("i",null),o.a.createElement("a",{href:"/book/reader.do?sourceUuid="+e.sourceUuid+"&articleUuid="+e.articleUuid},e.title))):n.push(o.a.createElement("li",{className:t.curArticleUuid===e.articleUuid?"crt":"",key:r},o.a.createElement("a",{href:"/book/reader.do?sourceUuid="+e.sourceUuid+"&articleUuid="+e.articleUuid},e.title)))}),n}}},{key:"locateArticle",value:function(){var e=this;this.curArticleUuid&&this.state.catalog.length&&this.state.catalog.forEach(function(t,n){t.articleUuid===e.curArticleUuid&&window.scrollTo(0,n*e.state.defaultHeight)})}},{key:"render",value:function(){var e=this.state,t=e.pageNow,n=e.pageCount,r=e.totalRecord,a="nav nav-page"+(t>1?"":" disabled"),i="nav nav-page"+(t<n?"":" disabled");return o.a.createElement("div",{className:"g-wrap",id:"cataApp"},o.a.createElement(x.a,null),o.a.createElement("div",{className:"m-cata-wrap"},o.a.createElement("div",{className:"header f-cb"},o.a.createElement("span",{className:"f-fl"},"共",r,"章"),n>1&&[o.a.createElement("a",{className:a,href:"javascript:;",onClick:this.goPrevPage},"上一页"),o.a.createElement("a",{className:i,href:"javascript:;",onClick:this.goNextPage},"下一页")],o.a.createElement("a",{className:"nav nav-order f-fr",onClick:this.reverseCatalog.bind(this)},this.state.reverse?"正序":"倒序")),o.a.createElement("div",{className:"m-catalog"},o.a.createElement("ul",null,this.renderCatalog(this.state.catalog))),n>1&&o.a.createElement("div",{className:"footer"},o.a.createElement("a",{className:a,href:"javascript:;",onClick:this.goPrevPage},"上一页"),o.a.createElement("a",{className:i,href:"javascript:;",onClick:this.goNextPage},"下一页"))))}}]),t}(a.Component))||r;n("8nng"),n("NHKQ"),n("1lB/"),n("XSqi");Object(i.render)(o.a.createElement(b,null),document.getElementById("root"))},YCIw:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n("Zx67"),a=n.n(r),o=n("Zrlr"),i=n.n(o),c=n("wxAW"),s=n.n(c),u=n("zwoO"),l=n.n(u),d=n("Pf15"),f=n.n(d),h=n("U7vG"),p=n.n(h),v=n("D/cR"),g=n("BK/k"),m=function(e){return function(t){function n(e){return i()(this,n),l()(this,(n.__proto__||a()(n)).call(this,e))}return f()(n,t),s()(n,[{key:"componentDidMount",value:function(){if(!g.a.get("N_userAccess")){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59);g.a.set("N_userAccess",!0,{expires:t,path:"/"}),this.countUserAccess()}}},{key:"countUserAccess",value:function(){Object(v.d)("/countUserAccess.do")}},{key:"render",value:function(){return p.a.createElement("div",{className:"g-wrap",style:{padding:"0"}},p.a.createElement(e,this.props))}}]),n}(h.Component)}},"tBL+":function(e,t,n){"use strict";function r(e,t){var n=e.dot,r=e.message,a={dot:n};r&&(a.message=l()(r)),Object(d.a)("/statistics/log/upload.json",a).then(function(e){t&&t()})}function a(e){var t=e.dot,n=e.message,r={dot:t};n&&(r.message=l()(n));var a=new XMLHttpRequest;a.open("get","/statistics/log/upload.json?"+Object(d.c)(r),!1),a.send(null)}function o(e,t,n){var r=e.dot,a=e.message,o=s()({dot:r},t);a&&(o.message=l()(a));var i=Object(f.c)();Object(d.b)(i+"/statistics/log/cors/logUpload.json",o).then(function(e){n&&n()})}function i(e,t,n){var r=e.dot,a=e.message,o=s()({dot:r},t);a&&(o.message=l()(a)),Object(d.b)("/statistics/log/cors/logUpload.json",o).then(function(e){n&&n()})}n.d(t,"a",function(){return r}),n.d(t,"d",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i});var c=n("Dd8w"),s=n.n(c),u=n("mvHQ"),l=n.n(u),d=n("D/cR"),f=n("vPHJ")},vPHJ:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"h",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"f",function(){return s}),n.d(t,"e",function(){return u}),n.d(t,"i",function(){return l}),n.d(t,"g",function(){return d}),n.d(t,"d",function(){return f}),n.d(t,"c",function(){return h});var r=n("HJfm"),a=function(e){return e&&e.replace(/[\n\r]+/g," ").replace(/\t/g," ").replace(/\<p\>/gi,"").replace(/\<\/p\>/gi,"")},o=function(){var e=window.location.search,t=new RegExp("([^?=&]+)(=([^&]*))?","g"),n={};return e&&e.replace(t,function(e,t,r,a){n[t]=a}),n};Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n=this.length>>>0;if((t|=0)<0)t=Math.max(n-t,0);else if(t>=n)return-1;if(void 0===e){do{if(t in this&&void 0===this[t])return t}while(++t!==n)}else do{if(this[t]===e)return t}while(++t!==n);return-1});var i=function(e){document.title=e;var t=document.createElement("iframe");t.style.display="none";var n=function e(){setTimeout(function(){t.removeEventListener("load",e),setTimeout(function(){document.body.removeChild(t)},0)},0)};t.addEventListener("load",n),document.body.appendChild(t)},c=window.navigator.userAgent.toLowerCase(),s=/ipad|iphone|ipod/.test(c)&&!window.MSStream,u=function(e){var t=e.split("/");return e.indexOf("://")>-1?t[0]+"//"+t[2]:t[0]},l=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t?(n+=t.offsetTop,e(t.offsetParent,n)):n},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=+new Date,r=window.pageYOffset,a=e-r,o=requestAnimationFrame(function e(){var i=t-Math.max(0,n+t-+new Date);window.scrollTo(0,i*a/t+r),o=requestAnimationFrame(e),i==t&&cancelAnimationFrame(o)})},f=function(){return location.host.indexOf("yuedu.163.com")>-1?r.d.TEST:location.host.indexOf("pre.kuxuanbook.com")>-1?r.d.PRE:r.d.ONLINE},h=function(){var e="";return location.host.indexOf("pay.kuxuanbook")>-1?(e=location.host.indexOf("yuedu.163.com")>-1?"//www.kuxuanbook.yuedu.163.com":"//www.kuxuanbook.com",location.host.indexOf("prepay.kuxuanbook.com")>-1&&(e="//pre.kuxuanbook.com")):(e=location.host.indexOf("yuedu.163.com")>-1?"//pay.kuxuanbook.yuedu.163.com":"//pay.kuxuanbook.com",location.host.indexOf("pre.kuxuanbook.com")>-1&&(e="//prepay.kuxuanbook.com")),e}}},["XmxB"]);