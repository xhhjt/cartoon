webpackJsonp(["info"],{"+qWx":function(e,t){e.exports=vendor},"7GHf":function(e,t,n){"use strict";var r=n("+6Bu"),a=n.n(r),o=n("U7vG"),i=n.n(o),c=n("XagN"),u=(n.n(c),function(e){var t=e.title,n=e.children,r=a()(e,["title","children"]);return i.a.createElement("div",{className:"m-head f-cb"},i.a.createElement("h2",null,t||""),i.a.createElement("a",{className:"f-fr",href:"/","data-log":r["data-log"]},"首页"),n||"")});t.a=u},"8nng":function(e,t,n){"use strict";var r=n("+6Bu"),a=n.n(r),o=n("Zrlr"),i=n.n(o),c=n("wxAW"),u=n.n(c),s=n("tBL+"),l=n("vPHJ"),f=function(){function e(t){var n=this;i()(this,e),this._handleDocClick=function(e){var t=n._getTargetElement(e);if(t){var r=t.dataset.log;if(r&&(n.capture(r),"A"===t.tagName.toUpperCase())){var a=t.href;if(!a||0===a.indexOf("javascript")||"_blank"===t.getAttribute("target"))return;e.preventDefault(),setTimeout(function(){window.location.href=t.href},200)}}},this._logToBackend=function(e){if(location.href.indexOf("pay.kuxuanbook")>-1){var t=Object(l.h)(),n=(t.targetUrl,t.shareUrl,a()(t,["targetUrl","shareUrl"]));Object(s.b)(JSON.parse(e),n)}else Object(s.a)(JSON.parse(e))},this.capture=function(e){n._logToBackend(e)},this._handleDocClick=this._handleDocClick.bind(this),this._addEventListeners()}return u()(e,[{key:"_addEventListeners",value:function(){document.addEventListener("click",this._handleDocClick,!0)}},{key:"_getTargetElement",value:function(e){for(var t=e.target;t;){if(t.dataset&&t.dataset.log)return t;t=t.parentNode}return null}}]),e}();new f},BEQ0:function(e,t,n){e.exports=n("+qWx")(3)},"BK/k":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});var r=n("VkW9"),a=n.n(r),o=new a.a,i=o.get("XSRF-TOKEN")},Bzfz:function(e,t,n){"use strict";n.d(t,"a",function(){return N});var r,a,o=n("Xxa5"),i=n.n(o),c=n("mvHQ"),u=n.n(c),s=n("exGp"),l=n.n(s),f=n("Zx67"),d=n.n(f),m=n("Zrlr"),p=n.n(m),h=n("wxAW"),v=n.n(h),g=n("zwoO"),E=n.n(g),w=n("Pf15"),k=n.n(w),b=n("U7vG"),y=n.n(b),x=n("D/cR"),N=(a=r=function(e){function t(e){p()(this,t);var n=E()(this,(t.__proto__||d()(t)).call(this,e));return n.user=JSON.parse(sessionStorage.getItem("N_quyu_user")),n.openQiyu=n.openQiyu.bind(n),n}return k()(t,e),v()(t,[{key:"componentDidMount",value:function(){function e(){return t.apply(this,arguments)}var t=l()(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.user){e.next=6;break}return e.next=3,Object(x.a)("/user/baseinfo.json");case 3:t=e.sent,this.user=t.user,this.user&&sessionStorage.setItem("N_quyu_user",u()(this.user));case 6:this.user&&this.initQiyu();case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"initQiyu",value:function(){var e=this,t=this.user,n=t.nickname,r=t.uidForQiyu,a=t.site,o=t.siteId,i=t.agentId,c=t.ip,s=navigator.userAgent;ysf.on({onload:function(){ysf.config({uid:r,data:u()([{key:"accountType",label:"产品标识",value:"酷炫"},{key:"real_name",value:n||""},{key:"uidForQiyu",label:"用户ID",value:r},{key:"site",label:"站点",value:decodeURIComponent(a)},{key:"siteId",label:"站点ID",value:o},{key:"agentId",label:"代理ID",value:i},{key:"ip",label:"IP",value:c||""},{key:"browserType",label:"当前UA",value:s}])}),e.props.auto&&e.openQiyu()}})}},{key:"openQiyu",value:function(){var e=this,t=ysf.url({templateId:2517694});setTimeout(function(){e.props.auto?location.replace(t):location.href=t},200)}},{key:"render",value:function(){var e=this,t=y.a.Children.map(this.props.children,function(t){return y.a.cloneElement(t,{onClick:e.openQiyu})});return y.a.createElement("div",null,t)}}]),t}(b.Component),r.defaultProps={siteInfo:{userId:""}},a)},C2NR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("U7vG"),o=n.n(a),i=n("O27J"),c=n("mvHQ"),u=n.n(c),s=n("Zx67"),l=n.n(s),f=n("Zrlr"),d=n.n(f),m=n("wxAW"),p=n.n(m),h=n("zwoO"),v=n.n(h),g=n("Pf15"),E=n.n(g),w=n("D/cR"),k=n("EtYT"),b=n("YCIw"),y=n("7GHf"),x=n("Bzfz"),N=Object(b.a)(r=function(e){function t(){d()(this,t);var e=v()(this,(t.__proto__||l()(t)).call(this));return e.state={user:[],hongbao:0,balance:0,vipExpire:-1},e}return E()(t,e),p()(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.fetchInfo()}},{key:"fetchInfo",value:function(){var e=this;Object(w.a)("/user/info.json",{}).then(function(t){t&&e.setState({user:t.user,hongbao:t.hongbao,balance:t.balance,vipExpire:t.vipExpire})})}},{key:"render",value:function(){var e=this.state,t=e.user,n=e.hongbao,r=e.balance,a=e.vipExpire;return o.a.createElement("div",{className:"g-wrap",id:"infoApp"},o.a.createElement(y.a,{"data-log":u()({dot:"f-3"})}),o.a.createElement("div",{className:"m-profile"},o.a.createElement("img",{src:t.avatar?t.avatar:"https://yuedust.yuedu.126.net/assets/mobile/images/tx-default.png"}),o.a.createElement("h2",null,a>-1&&o.a.createElement("span",{className:"icon-vip"}),o.a.createElement("span",null,t.nickname?t.nickname:"读书人")),a>-1&&o.a.createElement("p",null,"VIP到期时间：",k.a.format(a)),o.a.createElement("p",null,"您的账号ID:",t.uuid)),o.a.createElement("ul",{className:"m-list"},o.a.createElement("li",{className:"item item-recharge"},o.a.createElement("a",{href:"/pay.do","data-log":u()({dot:"f-1"})},o.a.createElement("i",{className:"icon"}),"充值",o.a.createElement("span",null,"余额  ",r,"阅点+",n,"红包"),o.a.createElement("i",{className:"arrow"}))),o.a.createElement("li",{className:"item item-hongbao"},o.a.createElement("a",{href:"/hongbao","data-log":u()({dot:"f-5"})},o.a.createElement("i",{className:"icon"}),"我的红包",o.a.createElement("i",{className:"arrow"}))),o.a.createElement("li",{className:"item item-coupon"},o.a.createElement("a",{href:"/coupon","data-log":u()({dot:"f-6"})},o.a.createElement("i",{className:"icon"}),"我的优惠券",o.a.createElement("i",{className:"arrow"}))),o.a.createElement("li",{className:"item item-history"},o.a.createElement("a",{href:"/history","data-log":u()({dot:"f-2"})},o.a.createElement("i",{className:"icon"}),"阅读历史",o.a.createElement("i",{className:"arrow"}))),o.a.createElement("li",{className:"item item-kefu"},o.a.createElement(x.a,null,o.a.createElement("a",{href:"javascript:;","data-log":u()({dot:"f-7"})},o.a.createElement("i",{className:"icon"}),"在线客服",o.a.createElement("i",{className:"arrow"}))))))}}]),t}(a.Component))||r;n("8nng"),n("NHKQ"),n("1lB/"),n("D4t7");Object(i.render)(o.a.createElement(N,null),document.getElementById("root"))},"D/cR":function(e,t,n){"use strict";function r(e){var t=[];for(var n in e)!function(n){Array.isArray(e[n])?e[n].forEach(function(e){t.push(n+"[]="+e)}):t.push(n+"="+e[n])}(n);return t.join("&")}t.c=r,n.d(t,"a",function(){return l}),n.d(t,"d",function(){return f}),n.d(t,"b",function(){return d});var a=n("Xxa5"),o=n.n(a),i=n("exGp"),c=n.n(i),u=n("rplX"),s=(n.n(u),n("BK/k")),l=function(){var e=c()(o.a.mark(function e(t){var n,a,i,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r(c),n.length>0&&(t+="?"+n),e.next=4,fetch(t,{method:"GET",credentials:"same-origin"});case 4:if(a=e.sent,a.ok){e.next=7;break}throw new Error("网络错误:"+a.status);case 7:return i=void 0,e.prev=8,e.next=11,a.json();case 11:i=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(8),new Error("服务器错误");case 17:if(!1!==i.success){e.next=21;break}throw new Error(i.msg||"请求失败");case 21:return-401===i.code&&location.reload(),e.abrupt("return",i);case 23:case"end":return e.stop()}},e,this,[[8,14]])}));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=c()(o.a.mark(function e(t){var n,a,i,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r(u),n.length>0&&(t+="?"+n),e.next=4,fetch(t,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/x-www-form-urlencoded","X-XSRF-TOKEN":s.b},body:r(c)});case 4:if(a=e.sent,a.ok){e.next=7;break}throw new Error("网络错误:"+a.status);case 7:return i=void 0,e.prev=8,e.next=11,a.json();case 11:i=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(8),new Error("服务器错误");case 17:if(!1!==i.success){e.next=21;break}throw new Error(i.msg||"请求失败");case 21:return-401===i.code&&location.reload(),e.abrupt("return",i);case 23:case"end":return e.stop()}},e,this,[[8,14]])}));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=c()(o.a.mark(function e(t){var n,a,i,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r(c),n.length>0&&(t+="?"+n),e.next=4,fetch(t,{method:"GET",credentials:"same-origin",mode:"cors"});case 4:if(a=e.sent,a.ok){e.next=7;break}throw new Error("网络错误:"+a.status);case 7:return i=void 0,e.prev=8,e.next=11,a.json();case 11:i=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(8),new Error("服务器错误");case 17:if(!1!==i.success){e.next=21;break}throw new Error(i.msg||"请求失败");case 21:return-401===i.code&&location.reload(),e.abrupt("return",i);case 23:case"end":return e.stop()}},e,this,[[8,14]])}));return function(t){return e.apply(this,arguments)}}()},D4t7:function(e,t){},EtYT:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("O57f"),a={getDays:function(e){return Math.floor(e/864e5)},getHours:function(e){return Math.floor(e/36e5)%24},getMinutes:function(e){return Math.floor(e/6e4)%60},getSeconds:function(e){return Math.floor(e/1e3)%60},getMilliSeconds:function(e){return e%1e3},format:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".";if(!isNaN(parseInt(e))){var n=new Date(parseInt(e));return n.getFullYear()+t+r.a.padLeft(n.getMonth()+1,2)+t+r.a.padLeft(n.getDate(),2)}},formatMonth:function(e){if(!isNaN(parseInt(e)))return e=parseInt(e),e%12==0?e/12+"年":e+"个月"}}},HJfm:function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"f",function(){return o}),n.d(t,"d",function(){return i}),n.d(t,"c",function(){return c}),n.d(t,"a",function(){return u});var r={FIRST_ENTER:"firstEnter",ACTIVITY:"activity",SIGN:"sign",GUIDE:"guide"},a={BOOK_NOT_FOUND:"bookNotFound",REQUEST_ERROR:"requestError",CUSTOM_ERROR:"customError"},o={WX_JSAPI:"WX_JSAPI",WX_NATIVE:"WX_NATIVE",ALIPAY:"ALIPAY"},i={TEST:"test",PRE:"pre",ONLINE:"online"},c={FEEDBACK:0,COMPLAINT:1},u={SIGN_MODAL:"1",SIGN_BOTTOM:"2",READER_RMD:"3",READER_BANNER:"4"}},NHKQ:function(e,t,n){n.p=window.cdn||"/dist/"},O27J:function(e,t,n){e.exports=n("+qWx")(76)},O57f:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={padLeft:function(e,t){var n=(""+e).length;return Array(t>n?t-n+1||0:0).join(0)+e}}},U7vG:function(e,t,n){e.exports=n("+qWx")(77)},YCIw:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n("Zx67"),a=n.n(r),o=n("Zrlr"),i=n.n(o),c=n("wxAW"),u=n.n(c),s=n("zwoO"),l=n.n(s),f=n("Pf15"),d=n.n(f),m=n("U7vG"),p=n.n(m),h=n("D/cR"),v=n("BK/k"),g=function(e){return function(t){function n(e){return i()(this,n),l()(this,(n.__proto__||a()(n)).call(this,e))}return d()(n,t),u()(n,[{key:"componentDidMount",value:function(){if(!v.a.get("N_userAccess")){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59);v.a.set("N_userAccess",!0,{expires:t,path:"/"}),this.countUserAccess()}}},{key:"countUserAccess",value:function(){Object(h.d)("/countUserAccess.do")}},{key:"render",value:function(){return p.a.createElement("div",{className:"g-wrap",style:{padding:"0"}},p.a.createElement(e,this.props))}}]),n}(m.Component)}},"tBL+":function(e,t,n){"use strict";function r(e,t){var n=e.dot,r=e.message,a={dot:n};r&&(a.message=l()(r)),Object(f.a)("/statistics/log/upload.json",a).then(function(e){t&&t()})}function a(e){var t=e.dot,n=e.message,r={dot:t};n&&(r.message=l()(n));var a=new XMLHttpRequest;a.open("get","/statistics/log/upload.json?"+Object(f.c)(r),!1),a.send(null)}function o(e,t,n){var r=e.dot,a=e.message,o=u()({dot:r},t);a&&(o.message=l()(a));var i=Object(d.c)();Object(f.b)(i+"/statistics/log/cors/logUpload.json",o).then(function(e){n&&n()})}function i(e,t,n){var r=e.dot,a=e.message,o=u()({dot:r},t);a&&(o.message=l()(a)),Object(f.b)("/statistics/log/cors/logUpload.json",o).then(function(e){n&&n()})}n.d(t,"a",function(){return r}),n.d(t,"d",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i});var c=n("Dd8w"),u=n.n(c),s=n("mvHQ"),l=n.n(s),f=n("D/cR"),d=n("vPHJ")},vPHJ:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"h",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"f",function(){return u}),n.d(t,"e",function(){return s}),n.d(t,"i",function(){return l}),n.d(t,"g",function(){return f}),n.d(t,"d",function(){return d}),n.d(t,"c",function(){return m});var r=n("HJfm"),a=function(e){return e&&e.replace(/[\n\r]+/g," ").replace(/\t/g," ").replace(/\<p\>/gi,"").replace(/\<\/p\>/gi,"")},o=function(){var e=window.location.search,t=new RegExp("([^?=&]+)(=([^&]*))?","g"),n={};return e&&e.replace(t,function(e,t,r,a){n[t]=a}),n};Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n=this.length>>>0;if((t|=0)<0)t=Math.max(n-t,0);else if(t>=n)return-1;if(void 0===e){do{if(t in this&&void 0===this[t])return t}while(++t!==n)}else do{if(this[t]===e)return t}while(++t!==n);return-1});var i=function(e){document.title=e;var t=document.createElement("iframe");t.style.display="none";var n=function e(){setTimeout(function(){t.removeEventListener("load",e),setTimeout(function(){document.body.removeChild(t)},0)},0)};t.addEventListener("load",n),document.body.appendChild(t)},c=window.navigator.userAgent.toLowerCase(),u=/ipad|iphone|ipod/.test(c)&&!window.MSStream,s=function(e){var t=e.split("/");return e.indexOf("://")>-1?t[0]+"//"+t[2]:t[0]},l=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t?(n+=t.offsetTop,e(t.offsetParent,n)):n},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=+new Date,r=window.pageYOffset,a=e-r,o=requestAnimationFrame(function e(){var i=t-Math.max(0,n+t-+new Date);window.scrollTo(0,i*a/t+r),o=requestAnimationFrame(e),i==t&&cancelAnimationFrame(o)})},d=function(){return location.host.indexOf("yuedu.163.com")>-1?r.d.TEST:location.host.indexOf("pre.kuxuanbook.com")>-1?r.d.PRE:r.d.ONLINE},m=function(){var e="";return location.host.indexOf("pay.kuxuanbook")>-1?(e=location.host.indexOf("yuedu.163.com")>-1?"//www.kuxuanbook.yuedu.163.com":"//www.kuxuanbook.com",location.host.indexOf("prepay.kuxuanbook.com")>-1&&(e="//pre.kuxuanbook.com")):(e=location.host.indexOf("yuedu.163.com")>-1?"//pay.kuxuanbook.yuedu.163.com":"//pay.kuxuanbook.com",location.host.indexOf("pre.kuxuanbook.com")>-1&&(e="//prepay.kuxuanbook.com")),e}}},["C2NR"]);